## 目标
- 在管理后台新增“反馈列表”功能，支持按类型/来源筛选、分页查看、查看详情，并确保仅管理员可访问。

## 路由与权限
- 后端新增接口（admin 保护）：
  - GET `/api/admin/feedback`（查询列表）
  - GET `/api/admin/feedback/:id`（查看详情）
- 鉴权：沿用现有管理员令牌 `Authorization: Bearer <admin_token>`。

## 数据结构
- 表：`public.feedback`（已存在）
  - `id`, `type`, `source_id`, `user_id`, `issues: text[]`, `comment: text`, `created_at`
- 前端展示字段：
  - 反馈类型（`type`）
  - 来源ID（`source_id`）及跳转（技能详情：`/skills/:id` 当 `type=skill`）
  - 用户ID（必要时显示用户名称，若有）
  - 反馈内容（`issues` 合并为用逗号分隔或 Chips；`comment`）
  - 创建时间（`created_at`）

## 后端实现（查询）
- 列表查询（支持筛选与分页）：
```ts
GET /api/admin/feedback?type=skill&source_id=<uuid>&page=1&limit=20
返回：{ items: Feedback[], page, pageSize, total }
```
- Supabase 查询（示意）：
```ts
const page = parseInt(req.query.page) || 1
const limit = Math.min(parseInt(req.query.limit) || 20, 100)
let q = supabase.from('feedback').select('*', { count: 'exact' }).order('created_at', { ascending: false })
if (type) q = q.eq('type', type)
if (source_id) q = q.eq('source_id', source_id)
const from = (page-1)*limit, to = from+limit-1
const { data, count } = await q.range(from, to)
res.json({ items: data||[], page, pageSize: limit, total: count||0 })
```
- 详情查询：
```ts
GET /api/admin/feedback/:id → select('*').eq('id', id).single()
```
- 官方文档：
  - Select 与过滤：https://supabase.com/docs/reference/javascript/select
  - 过滤 eq：https://supabase.com/docs/reference/javascript/using-filters#equals

## 前端管理页面
- 新增视图：`AdminFeedback.vue`
  - 顶部筛选：`type` 下拉（默认：全部），`source_id` 文本输入（可选）
  - 列表表格：列包含类型、来源、用户、问题、备注、时间、操作（查看）
  - 分页：复用现有分页组件样式
- 交互：
  - 点击来源ID（当 `type=skill`）在新标签打开技能详情
  - 查看操作弹出详情对话框：显示用户ID、issues（标签）、comment、时间
- 请求：使用管理员令牌调用 `/api/admin/feedback`；注意网络异常与 401 跳转登录

## 细节与优化
- issues 展示为 Chips（灰色圆角标签）
- comment 超长在列表截断，详情完整显示
- 时间格式化统一使用现有 `formatDate` 或封装的工具
- 性能：分页查询，限制 `limit≤100`

## 扩展（可选）
- 导出 CSV（后端返回 `text/csv` 或前端本地导出）
- 状态字段（如 processed/ignored），支持在列表中标记处理结果
- 关联用户昵称：联查 `user_profiles`（可选）

## 交付步骤
1. 后端：新增 `/api/admin/feedback` 列表与详情接口（含鉴权与分页筛选）
2. 前端：新增 `AdminFeedback.vue`、在管理侧边导航添加入口
3. 验证：筛选与分页正常；401 跳转登录；详情弹窗显示完整数据
